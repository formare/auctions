--- Chain_Bug_3_warn.thy	2013-09-07 16:15:36.933259000 +0200
+++ Chain_Bug_1_fails.thy	2013-09-07 16:17:11.108179000 +0200
@@ -1,4 +1,4 @@
-theory Chain_Bug_3_warn
+theory Chain_Bug_1_fails
 imports Main
 begin
 
@@ -18,7 +18,7 @@
   fix Y::"'b set"
   have "{{}} = injections {} Y"
   proof -
-    have "{{}} = {R. Domain R = {} \<and> Range R \<subseteq> Y \<and> runiq R \<and> runiq (R\<inverse>)}" (is "?LHS = ?RHS")
+    have "{{}} = {R::('a \<times> 'b) set. Domain R = {} \<and> Range R \<subseteq> Y \<and> runiq R \<and> runiq (R\<inverse>)}" (is "?LHS = ?RHS")
     proof
       have "Domain {} = {}" by simp
       moreover have "Range {} \<subseteq> Y" by simp
@@ -30,7 +30,7 @@
       then show "?LHS \<subseteq> ?RHS" by (smt empty_subsetI insert_subset)
     next
       {
-        fix R
+        fix R::"('a \<times> 'b) set"
         assume "R \<in> {R . Domain R = {} \<and> Range R \<subseteq> Y \<and> runiq R \<and> runiq (R\<inverse>)}"
         then have "Domain R = {} \<and> Range R \<subseteq> Y \<and> runiq R \<and> runiq (R\<inverse>)" ..
         then have "R = {}" using Domain_empty_iff by metis
@@ -40,7 +40,6 @@
     qed
     also have "{R . Domain R = {} \<and> Range R \<subseteq> Y \<and> runiq R \<and> runiq (R\<inverse>)} = injections {} Y"
       unfolding injections_def ..
-    finally show "{{}} = injections {} Y" .
+    finally show "{{}} = injections {} Y" sorry
   qed
 end
-
