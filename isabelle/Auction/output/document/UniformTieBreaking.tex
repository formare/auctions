%
\begin{isabellebody}%
\def\isabellecontext{UniformTieBreaking}%
%
\isamarkupheader{Termination theorem for uniform tie-breaking%
}
\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ UniformTieBreaking\isanewline
\isanewline
\isakeyword{imports}\ \isanewline
StrictCombinatorialAuction\isanewline
Universes\isanewline
{\isachardoublequoteopen}{\isachartilde}{\isachartilde}{\isacharslash}src{\isacharslash}HOL{\isacharslash}Library{\isacharslash}Code{\isacharunderscore}Target{\isacharunderscore}Nat{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isamarkupsection{Termination theorem for the uniform tie-breaking scheme \isa{{\isasymlambda}N\ G\ bids\ random{\isachardot}\ linearCompletion{\isacharprime}\ {\isacharparenleft}pseudoAllocation\ {\isacharparenleft}hd\ {\isacharparenleft}perm{\isadigit{2}}\ {\isacharparenleft}takeAll\ {\isacharparenleft}{\isasymlambda}x{\isachardot}\ winningAllocationRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ {\isacharparenleft}op\ {\isasymin}\ x{\isacharparenright}\ bids{\isacharparenright}\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}{\isacharparenright}\ random{\isacharparenright}{\isacharparenright}\ {\isacharless}{\isacharbar}\ {\isacharparenleft}N\ {\isasymtimes}\ finestpart\ {\isacharparenleft}set\ G{\isacharparenright}{\isacharparenright}{\isacharparenright}\ N\ {\isacharparenleft}set\ G{\isacharparenright}}%
}
\isamarkuptrue%
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}winningAllocationsRel\ N\ G\ b\ {\isasymsubseteq}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{2}}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq\ subsetI\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{5}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}\ {\isachardoublequoteopen}c\ {\isasymsubseteq}\ a{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}c\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}c{\isacharequal}a{\isacharminus}{\isacharparenleft}a{\isacharminus}c{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ lm{\isadigit{3}}{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}\ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{5}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}a\ outside\ X\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{3}}{\isadigit{5}}\ Outside{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}d{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}x{\isacharbraceright}{\isasymtimes}{\isacharparenleft}{\isacharbraceleft}X{\isacharbraceright}{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}\ nn{\isadigit{4}}{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}b{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}{\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}\ lm{\isadigit{4}}{\isadigit{4}}\ insert{\isacharunderscore}not{\isacharunderscore}empty\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}x{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}\ {\isasymnoteq}\ {\isacharparenleft}x{\isacharcomma}\ {\isacharbraceleft}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ insert{\isacharunderscore}Diff{\isacharunderscore}if\ insert{\isacharunderscore}iff\ lm{\isadigit{3}}{\isadigit{8}}\ lm{\isadigit{4}}{\isadigit{4}}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}c{\isacharcolon}\ {\isachardoublequoteopen}allocationsUniverse\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{8}}b\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ nn{\isadigit{3}}{\isadigit{9}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymin}\ allocationsUniverse{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ lm{\isadigit{3}}{\isadigit{5}}b\ lm{\isadigit{3}}{\isadigit{8}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}\ empty{\isacharunderscore}subsetI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{7}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}G{\isacharbraceright}\ {\isasymin}\ all{\isacharunderscore}partitions\ G{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ all{\isacharunderscore}partitions{\isacharunderscore}def\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ \isanewline
is{\isacharunderscore}partition{\isacharunderscore}def\ assms\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{8}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}n\ {\isasymin}\ N{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}G{\isacharcomma}n{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ totalRels\ {\isacharbraceleft}G{\isacharbraceright}\ N{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{9}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}n{\isasymin}N{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}G{\isacharcomma}n{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ injections\ {\isacharbraceleft}G{\isacharbraceright}\ N{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ possible{\isacharunderscore}allocations{\isacharunderscore}rel{\isacharunderscore}def\ injections{\isacharunderscore}def\ mm{\isadigit{8}}{\isadigit{7}}\ all{\isacharunderscore}partitions{\isacharunderscore}def\ \isanewline
is{\isacharunderscore}partition{\isacharunderscore}def\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ lm{\isadigit{2}}{\isadigit{6}}\ mm{\isadigit{8}}{\isadigit{8}}\ lm{\isadigit{3}}{\isadigit{7}}\ lm{\isadigit{2}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{0}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}\ G{\isasymnoteq}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isasymin}N{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}G{\isacharcomma}n{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ possible{\isacharunderscore}allocations{\isacharunderscore}rel\ G\ N{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}G{\isacharcomma}n{\isacharparenright}{\isacharbraceright}\ {\isasymin}\ injections\ {\isacharbraceleft}G{\isacharbraceright}\ N{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{9}}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}G{\isacharbraceright}\ {\isasymin}\ all{\isacharunderscore}partitions\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ possible{\isacharunderscore}allocations{\isacharunderscore}rel{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{0}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}G{\isasymnoteq}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}possibleAllocationsRel\ N\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}hide{\isacharunderscore}lams{\isacharcomma}\ no{\isacharunderscore}types{\isacharparenright}\ equals{\isadigit{0}}I\ image{\isacharunderscore}insert\ insert{\isacharunderscore}absorb\ insert{\isacharunderscore}not{\isacharunderscore}empty{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{1}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}winningAllocationsRel\ N\ G\ bids\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isacharampersand}\ finite\ {\isacharparenleft}winningAllocationsRel\ N\ G\ bids{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{0}}b\ lm{\isadigit{5}}{\isadigit{9}}\ argmax{\isacharunderscore}non{\isacharunderscore}empty{\isacharunderscore}iff\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ lm{\isadigit{0}}{\isadigit{3}}\ rev{\isacharunderscore}finite{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}possibleAllocationsRel\ N\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymsubseteq}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ emptyset{\isacharunderscore}part{\isacharunderscore}emptyset{\isadigit{3}}\ mm{\isadigit{5}}{\isadigit{1}}\ \isanewline
lm{\isadigit{2}}{\isadigit{8}}b\ mem{\isacharunderscore}Collect{\isacharunderscore}eq\ subsetI\ vimage{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{2}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}Range\ a{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{5}}{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ lm{\isadigit{2}}{\isadigit{8}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{4}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{2}}\ mm{\isadigit{4}}{\isadigit{3}}\ finite{\isacharunderscore}converse\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}erased{\isacharcomma}\ hide{\isacharunderscore}lams{\isacharparenright}\ Range{\isacharunderscore}converse\ imageE\ lll{\isadigit{8}}{\isadigit{1}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}\ Range\ a\ {\isacharequal}\ G{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ lm{\isadigit{4}}{\isadigit{7}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{1}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}{\isasymforall}\ y\ {\isasymin}\ Range\ a{\isachardot}\ finite\ y{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ lm{\isadigit{4}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Union{\isacharunderscore}upper\ rev{\isacharunderscore}finite{\isacharunderscore}subset{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{3}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}card\ G\ {\isacharequal}\ setsum\ card\ {\isacharparenleft}Range\ a{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{3}}b\ mm{\isadigit{4}}{\isadigit{2}}\ lm{\isadigit{4}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}LinearCompletion\ bids\ N\ G\ {\isacharequal}\ \isanewline
{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{5}}b{\isacharcolon}\ \isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharbraceright}\ {\isacharbar}{\isacharbar}\ a\ {\isacharequal}\ \isanewline
{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{6}}{\isadigit{5}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}b{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}\ {\isacharbar}{\isacharbar}\ a\ {\isacharequal}\ \isanewline
{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
{\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{5}}b\ mm{\isadigit{6}}{\isadigit{6}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}LinearCompletion\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}M{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}l\ bids\ N\ G\ {\isacharequal}\ {\isacharquery}M{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{6}}{\isadigit{6}}{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharparenleft}{\isacharquery}M\ {\isacharbar}{\isacharbar}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{6}}{\isadigit{5}}b{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}c{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ {\isacharbackquote}\ {\isacharparenleft}{\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharparenright}\ {\isacharequal}\ \isanewline
{\isacharbraceleft}{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}d{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}\ {\isacharbar}{\isacharbar}\ a\ {\isacharequal}\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ {\isacharbackquote}\ {\isacharparenleft}{\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}c\ mm{\isadigit{6}}{\isadigit{6}}b\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}LinearCompletion\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}partialCompletionOf\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}M{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}\isanewline
{\isacharparenleft}pair{\isacharcomma}setsum\ {\isacharparenleft}{\isacharpercent}g{\isachardot}\ bids\ {\isacharparenleft}fst\ pair{\isacharcomma}\ g{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbar}pair{\isachardot}\ pair\ {\isasymin}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharquery}M{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{6}}{\isadigit{6}}b{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}c\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ UNIV{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharparenright}\ fst{\isacharunderscore}conv\ inj{\isacharunderscore}on{\isacharunderscore}inverseI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{7}}b{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ X{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}conv\ inj{\isacharunderscore}on{\isacharunderscore}inverseI\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{8}}{\isacharcolon}\ {\isachardoublequoteopen}setsum\ snd\ {\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}\ {\isacharequal}\ \isanewline
setsum\ {\isacharparenleft}snd\ {\isasymcirc}\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
mm{\isadigit{5}}{\isadigit{7}}b\ setsum{\isachardot}reindex\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\ \isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}snd\ {\isacharparenleft}partialCompletionOf\ bids\ pair{\isacharparenright}{\isacharequal}setsum\ bids\ {\isacharparenleft}omega\ pair{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}b{\isacharcolon}\ {\isachardoublequoteopen}snd\ {\isasymcirc}\ partialCompletionOf\ bids\ {\isacharequal}\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isasymcirc}\ omega{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{7}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ \ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}card\ {\isacharparenleft}omega\ pair{\isacharparenright}\ {\isacharequal}\ card\ {\isacharparenleft}finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}omega\ pair{\isacharparenright}\ {\isacharequal}\ card\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{6}}\ card{\isacharunderscore}cartesian{\isacharunderscore}product{\isacharunderscore}singleton\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{0}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}runiq\ f{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}partition\ {\isacharparenleft}omega\ {\isacharbackquote}\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}X{\isacharequal}{\isachardoublequoteopen}omega\ {\isacharbackquote}\ f{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}finestpart\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ y{\isadigit{1}}\ y{\isadigit{2}}\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isasymin}\ {\isacharquery}X\ {\isacharampersand}\ y{\isadigit{2}}\ {\isasymin}\ {\isacharquery}X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ pair{\isadigit{1}}\ pair{\isadigit{2}}\ \isakeyword{where}\ \isanewline
\ \ \ \ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isacharequal}\ omega\ pair{\isadigit{1}}\ {\isacharampersand}\ y{\isadigit{2}}\ {\isacharequal}\ omega\ pair{\isadigit{2}}\ {\isacharampersand}\ pair{\isadigit{1}}\ {\isasymin}\ f\ {\isacharampersand}\ pair{\isadigit{2}}\ {\isasymin}\ f{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}snd\ pair{\isadigit{1}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isacharampersand}\ snd\ pair{\isadigit{1}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ rev{\isacharunderscore}image{\isacharunderscore}eqI\ snd{\isacharunderscore}eq{\isacharunderscore}Range{\isacharparenright}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fst\ pair{\isadigit{1}}\ {\isacharequal}\ fst\ pair{\isadigit{2}}\ {\isasymlongleftrightarrow}\ pair{\isadigit{1}}\ {\isacharequal}\ pair{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ runiq{\isacharunderscore}basic\ surjective{\isacharunderscore}pairing\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isasyminter}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymlongrightarrow}\ y{\isadigit{1}}\ {\isacharequal}\ y{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ {\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y{\isadigit{1}}\ {\isacharequal}\ y{\isadigit{2}}\ {\isasymlongleftrightarrow}\ y{\isadigit{1}}\ {\isasyminter}\ y{\isadigit{2}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{9}}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Int{\isacharunderscore}absorb\ Times{\isacharunderscore}empty\ insert{\isacharunderscore}not{\isacharunderscore}empty{\isacharparenright}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}partition{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ no{\isacharunderscore}types{\isacharparenright}\ inf{\isacharunderscore}commute\ inf{\isacharunderscore}sup{\isacharunderscore}aci{\isacharparenleft}{\isadigit{1}}{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{2}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ X{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ omega\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}finestpart\isanewline
\isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ pair{\isadigit{1}}\ pair{\isadigit{2}}\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}pair{\isadigit{1}}\ {\isasymin}\ X\ {\isacharampersand}\ pair{\isadigit{2}}\ {\isasymin}\ X{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}snd\ pair{\isadigit{1}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}\ {\isacharampersand}\ snd\ pair{\isadigit{2}}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Range{\isachardot}intros\ surjective{\isacharunderscore}pairing{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}omega\ pair{\isadigit{1}}\ {\isacharequal}\ omega\ pair{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}p\ {\isacharparenleft}snd\ pair{\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharquery}p\ {\isacharparenleft}snd\ pair{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}snd\ pair{\isadigit{1}}\ {\isacharequal}\ snd\ pair{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ll{\isadigit{6}}{\isadigit{4}}\ mm{\isadigit{3}}{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}fst\ pair{\isadigit{1}}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}fst\ pair{\isadigit{2}}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{0}}\ mm{\isadigit{2}}{\isadigit{9}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fst{\isacharunderscore}image{\isacharunderscore}times{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}pair{\isadigit{1}}\ {\isacharequal}\ pair{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ prod{\isacharunderscore}eqI\ singleton{\isacharunderscore}inject{\isacharparenright}\isanewline
\isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ no{\isacharunderscore}types{\isacharparenright}\ inj{\isacharunderscore}onI{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{6}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isanewline
{\isachardoublequoteopen}finite\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}X\ {\isasymin}\ omega\ {\isacharbackquote}\ a{\isachardot}\ finite\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}partition\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ setsum\ {\isacharparenleft}card\ {\isasymcirc}\ omega{\isacharparenright}\ a{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{3}}\ UniformTieBreaking{\isachardot}mm{\isadigit{3}}{\isadigit{2}}\ setsum{\isachardot}reindex\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ setsum\ card\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isadigit{3}}{\isacharcomma}{\isadigit{4}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{3}}{\isadigit{3}}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ mm{\isadigit{3}}{\isadigit{2}}\ setsum{\isachardot}reindex\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}card\ {\isacharparenleft}omega\ pair{\isacharparenright}{\isacharequal}\ card\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{6}}\ card{\isacharunderscore}cartesian{\isacharunderscore}product{\isacharunderscore}singleton\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{5}}b{\isacharcolon}\ {\isachardoublequoteopen}card\ {\isasymcirc}\ omega\ {\isacharequal}\ card\ {\isasymcirc}\ snd{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{7}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}\ pair\ {\isasymin}\ a{\isachardot}\ finite\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ setsum\ {\isacharparenleft}card\ {\isasymcirc}\ snd{\isacharparenright}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}P{\isacharequal}pseudoAllocation\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}c{\isacharequal}card\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ pair\ {\isasymin}\ a{\isachardot}\ finite\ {\isacharparenleft}omega\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{0}}\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{moreover}\isamarkupfalse%
\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}partition\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ force\ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}c\ {\isacharparenleft}{\isacharquery}P\ a{\isacharparenright}\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharquery}c\ {\isasymcirc}\ omega{\isacharparenright}\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{6}}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharquery}c\ {\isasymcirc}\ snd{\isacharparenright}\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{5}}b\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{6}}{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}runiq\ {\isacharparenleft}a{\isacharcircum}{\isacharminus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}\ pair\ {\isasymin}\ a{\isachardot}\ finite\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ setsum\ card\ {\isacharparenleft}Range\ a{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{9}}\ mm{\isadigit{3}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{8}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ card\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{5}}b\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ pair\ {\isasymin}\ a{\isachardot}\ finite\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{1}}\ mm{\isadigit{4}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharparenright}\ Int{\isacharunderscore}lower{\isadigit{1}}\ in{\isacharunderscore}mono\ lm{\isadigit{1}}{\isadigit{9}}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}runiq\ {\isacharparenleft}a{\isacharcircum}{\isacharminus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharparenright}\ injections{\isacharunderscore}def\ lm{\isadigit{2}}{\isadigit{8}}b\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ setsum\ card\ {\isacharparenleft}Range\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{6}}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ card\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{3}}c\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{9}}{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}pseudoAllocation\ aa\ {\isasymsubseteq}\ pseudoAllocation\ a\ {\isasymunion}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}finestpart\ G{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}toFunction\ {\isacharparenleft}bidMaximizedBy\ a\ N\ G{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharminus}\ \isanewline
{\isacharparenleft}setsum\ {\isacharparenleft}toFunction\ {\isacharparenleft}bidMaximizedBy\ a\ N\ G{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ \isanewline
card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{8}}\ assms\isanewline
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{9}}c{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}pseudoAllocation\ aa\ {\isasymsubseteq}\ pseudoAllocation\ a\ {\isasymunion}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}finestpart\ G{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}int\ {\isacharparenleft}setsum\ {\isacharparenleft}maxbid{\isacharprime}\ a\ N\ G{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ \isanewline
int\ {\isacharparenleft}setsum\ {\isacharparenleft}maxbid{\isacharprime}\ a\ N\ G{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ \isanewline
int\ {\isacharparenleft}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ int\ {\isacharparenleft}card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{8}}b\ assms\isanewline
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}pseudoAllocation\ {\isacharbraceleft}{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{3}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharequal}{\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{3}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ card\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isadigit{2}}{\isacharparenright}\ mm{\isadigit{4}}{\isadigit{8}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{4}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}finite\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ finite{\isachardot}emptyI\ mm{\isadigit{5}}{\isadigit{3}}\ mm{\isadigit{5}}{\isadigit{3}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{6}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}{\isacharparenleft}card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ card\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ \isanewline
{\isacharparenleft}pseudoAllocation\ a\ {\isacharequal}\ pseudoAllocation\ aa{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{8}}\ mm{\isadigit{2}}{\isadigit{3}}b\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}P{\isacharequal}pseudoAllocation\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}c{\isacharequal}card\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}{\isacharquery}P\ a{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}AA{\isacharequal}{\isachardoublequoteopen}{\isacharquery}P\ aa{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}c\ {\isacharquery}A{\isacharequal}{\isacharquery}c\ G\ {\isacharampersand}\ {\isacharquery}c\ {\isacharquery}AA{\isacharequal}{\isacharquery}c\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{8}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}A\ {\isacharampersand}\ finite\ {\isacharquery}AA{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{3}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}no{\isacharunderscore}types{\isacharcomma}lifting{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}{\isacharcolon}\ {\isachardoublequoteopen}omega\ pair\ {\isacharequal}\ {\isacharbraceleft}fst\ pair{\isacharbraceright}\ {\isasymtimes}\ {\isacharbraceleft}{\isacharbraceleft}y{\isacharbraceright}{\isacharbar}\ y{\isachardot}\ y\ {\isasymin}\ snd\ pair{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finestpart{\isacharunderscore}def\ ll{\isadigit{6}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}c{\isacharcolon}\ {\isachardoublequoteopen}omega\ pair\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y{\isachardot}\ y\ {\isasymin}\ \ snd\ pair{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}\ mm{\isadigit{5}}{\isadigit{5}}b\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}d{\isacharcolon}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isacharequal}\ {\isasymUnion}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y{\isachardot}\ y\ {\isasymin}\ snd\ pair{\isacharbraceright}{\isacharbar}\ pair{\isachardot}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}c\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}e{\isacharcolon}\ {\isachardoublequoteopen}{\isasymUnion}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y{\isachardot}\ y\ {\isasymin}\ snd\ pair{\isacharbraceright}{\isacharbar}\ pair{\isachardot}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isacharequal}\isanewline
{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y\ pair{\isachardot}\ y\ {\isasymin}\ snd\ pair\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}k{\isacharcolon}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ Y{\isacharparenright}{\isacharbar}\ Y\ pair{\isachardot}\ Y\ {\isasymin}\ finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}j\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}u{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ Y{\isacharparenright}{\isacharbar}\ Y\ pair{\isachardot}\ Y\ {\isasymin}\ finestpart\ {\isacharparenleft}snd\ pair{\isacharparenright}\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ Y{\isacharparenright}{\isacharbar}\ Y\ x{\isachardot}\ Y\ {\isasymin}\ finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}\ {\isacharampersand}\ x\ {\isasymin}\ Domain\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
{\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ Domain{\isachardot}DomainI\ fst{\isacharunderscore}conv\ mm{\isadigit{6}}{\isadigit{0}}\ runiq{\isacharunderscore}wrt{\isacharunderscore}ex{\isadigit{1}}\ surjective{\isacharunderscore}pairing\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}hide{\isacharunderscore}lams{\isacharcomma}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}v{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ Y{\isacharparenright}{\isacharbar}\ Y\ x{\isachardot}\ Y\ {\isasymin}\ finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}\ {\isacharampersand}\ x\ {\isasymin}\ Domain\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{5}}u\ mm{\isadigit{5}}{\isadigit{5}}k\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}t{\isacharcolon}\ {\isachardoublequoteopen}Range\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ {\isasymUnion}\ {\isacharparenleft}finestpart\ {\isacharbackquote}\ {\isacharparenleft}Range\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}k\ mm{\isadigit{5}}{\isadigit{5}}l\ mm{\isadigit{5}}{\isadigit{5}}m\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}s{\isacharcolon}\ {\isachardoublequoteopen}Range\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ finestpart\ {\isacharparenleft}{\isasymUnion}\ Range\ a{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}r\ mm{\isadigit{5}}{\isadigit{5}}t\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\ \isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}f{\isacharcolon}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y\ pair{\isachardot}\ y\ {\isasymin}\ snd\ pair\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}d\ \isanewline
mm{\isadigit{5}}{\isadigit{5}}e\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}full{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}g{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y\ pair{\isachardot}\ y\ {\isasymin}\ snd\ pair\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isacharequal}\isanewline
{\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ x\ y{\isachardot}\ y\ {\isasymin}\ {\isasymUnion}\ {\isacharparenleft}a{\isacharbackquote}{\isacharbackquote}{\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}\ {\isacharampersand}\ x\ {\isasymin}\ Domain\ a{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}i{\isacharcolon}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ x\ y{\isachardot}\ y\ {\isasymin}\ {\isasymUnion}\ {\isacharparenleft}a{\isacharbackquote}{\isacharbackquote}{\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}\ {\isacharampersand}\ x\ {\isasymin}\ Domain\ a{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharbraceleft}{\isacharparenleft}fst\ pair{\isacharcomma}\ {\isacharbraceleft}y{\isacharbraceright}{\isacharparenright}{\isacharbar}\ y\ pair{\isachardot}\ y\ {\isasymin}\ snd\ pair\ {\isacharampersand}\ pair\ {\isasymin}\ a{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{5}}f{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{5}}g{\isacharparenright}\ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}runiq\ {\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ graph{\isacharunderscore}def\ image{\isacharunderscore}Collect{\isacharunderscore}mem\ ll{\isadigit{3}}{\isadigit{7}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{2}}b{\isacharcolon}\ {\isachardoublequoteopen}runiq\ {\isacharparenleft}LinearCompletion\ bids\ N\ G\ {\isacharbar}{\isacharbar}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ restrict{\isacharunderscore}def\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{2}}\ subrel{\isacharunderscore}runiq\ Int{\isacharunderscore}commute\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ Domain\ {\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{3}}d{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}a\ {\isasymsubseteq}\ Domain\ {\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}possibleAllocationsRel\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}L{\isacharequal}LinearCompletion\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymsubseteq}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{3}}c\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharequal}Domain\ {\isacharparenleft}{\isacharquery}L\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}d{\isacharcolon}\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ {\isacharparenleft}a\ {\isasyminter}\ {\isacharparenleft}Domain\ {\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ \isanewline
setsum\ snd\ {\isacharparenleft}{\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}\ {\isacharbar}{\isacharbar}\ a{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{9}}c\ mm{\isadigit{6}}{\isadigit{2}}b\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}e{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ snd\ {\isacharparenleft}{\isacharparenleft}LinearCompletion\ bids\ N\ G{\isacharparenright}\ {\isacharbar}{\isacharbar}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}linearCompletion{\isacharprime}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}L{\isacharequal}LinearCompletion\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymsubseteq}\ Domain\ {\isacharparenleft}{\isacharquery}L\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{6}}{\isadigit{3}}d{\isacharparenright}\ \isacommand{then}\isamarkupfalse%
\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}\ a\ {\isasyminter}\ Domain\ {\isacharparenleft}{\isacharquery}L\ bids\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{then}\isamarkupfalse%
\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}{\isacharquery}l\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharquery}l\ bids\ N\ G{\isacharparenright}\ {\isacharparenleft}a\ {\isasyminter}\ Domain\ {\isacharparenleft}{\isacharquery}L\ bids\ N\ G{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}d\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}f{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ snd\ {\isacharparenleft}{\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ {\isacharbackquote}\ {\isacharparenleft}{\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isasyminter}\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}X{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}partialCompletionOf\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}L{\isacharequal}LinearCompletion\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}linearCompletion{\isacharprime}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}A{\isacharequal}{\isachardoublequoteopen}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}inner{\isadigit{2}}{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isacharquery}p\ bids{\isacharparenright}{\isacharbackquote}{\isacharparenleft}{\isacharquery}A\ {\isasyminter}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}inner{\isadigit{1}}{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isacharquery}L\ bids\ N\ G{\isacharparenright}{\isacharbar}{\isacharbar}a{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}R\ {\isacharequal}\ setsum\ snd\ {\isacharquery}inner{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{6}}d\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}{\isacharquery}l\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ snd\ {\isacharquery}inner{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{9}}e{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}g{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ snd\ {\isacharparenleft}{\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{9}}f\ mm{\isadigit{6}}{\isadigit{3}}c\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}partialCompletionOf\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}linearCompletion{\isacharprime}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ setsum\ snd\ {\isacharparenleft}{\isacharparenleft}{\isacharquery}p\ bids{\isacharparenright}{\isacharbackquote}{\isacharparenleft}{\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isasyminter}\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{9}}f{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{3}}c\ Int{\isacharunderscore}absorb{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{7}}c{\isacharcolon}\ {\isachardoublequoteopen}setsum\ snd\ {\isacharparenleft}{\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}\ {\isacharbackquote}\ a{\isacharparenright}\ {\isacharequal}\ setsum\ {\isacharparenleft}snd\ {\isasymcirc}\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}{\isacharparenright}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ setsum{\isachardot}reindex\ mm{\isadigit{5}}{\isadigit{7}}b\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{9}}h{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ {\isacharparenleft}snd\ {\isasymcirc}\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}{\isacharparenright}\ a{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{9}}g\ mm{\isadigit{5}}{\isadigit{7}}c\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}partialCompletionOf\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}linearCompletion{\isacharprime}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ setsum\ snd\ {\isacharparenleft}{\isacharparenleft}{\isacharquery}p\ bids{\isacharparenright}{\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{9}}g{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{7}}c\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isasymcirc}\ omega{\isacharparenright}\ a{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{9}}h\ mm{\isadigit{2}}{\isadigit{5}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}inner{\isadigit{1}}{\isacharequal}{\isachardoublequoteopen}snd\ {\isasymcirc}\ {\isacharparenleft}partialCompletionOf\ bids{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}inner{\isadigit{2}}{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isasymcirc}\ omega{\isachardoublequoteclose}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}M{\isacharequal}{\isachardoublequoteopen}setsum\ {\isacharquery}inner{\isadigit{1}}\ a{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharquery}M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{5}}{\isadigit{9}}h{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}inner{\isadigit{1}}\ {\isacharequal}\ {\isacharquery}inner{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}\ assms\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{5}}d{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}omega{\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{5}}c\ setsum{\isachardot}reindex\ mm{\isadigit{3}}{\isadigit{2}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{4}}{\isadigit{5}}b{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ omega\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isasymcirc}\ omega{\isacharparenright}\ a{\isachardoublequoteclose}\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ setsum{\isachardot}reindex{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ {\isacharparenleft}{\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isasymcirc}\ omega{\isacharparenright}\ a{\isachardoublequoteclose}\isanewline
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{5}}c\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ Extraction{\isachardot}exE{\isacharunderscore}realizer{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{7}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}snd\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}omega\ pair{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ finite{\isachardot}emptyI\ finite{\isachardot}insertI\ finite{\isacharunderscore}SigmaI\ mm{\isadigit{4}}{\isadigit{0}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{7}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}{\isacharparenleft}Range\ a{\isacharparenright}{\isachardot}\ finite\ y{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}y{\isasymin}{\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardot}\ finite\ y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{7}}\ imageE\ mm{\isadigit{4}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ fast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}y\ {\isasymin}\ {\isacharparenleft}Range\ a{\isacharparenright}{\isachardot}\ finite\ y{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{4}}{\isadigit{1}}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{7}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}{\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardot}\ finite\ x{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{7}}b\ mm{\isadigit{4}}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{0}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}partition\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{3}}{\isadigit{0}}\ mm{\isadigit{4}}{\isadigit{5}}b\ image{\isacharunderscore}iff\ lll{\isadigit{8}}{\isadigit{1}}a\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ assms\ image{\isacharunderscore}iff\ lll{\isadigit{8}}{\isadigit{1}}a{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{5}}b\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{3}}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{8}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}omega{\isacharbackquote}\ a{\isacharparenright}\ {\isacharequal}\ setsum\ bids\ {\isacharparenleft}{\isasymUnion}\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isacharparenright}\ {\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ setsum{\isacharunderscore}Union{\isacharunderscore}disjoint{\isacharunderscore}{\isadigit{2}}\ mm{\isadigit{3}}{\isadigit{0}}b\ mm{\isadigit{6}}{\isadigit{7}}c\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{9}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ setsum\ bids\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{5}}d\ mm{\isadigit{6}}{\isadigit{8}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ setsum\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}omega\ {\isacharbackquote}a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{2}}{\isadigit{5}}d\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ setsum\ bids\ {\isacharparenleft}{\isasymUnion}\ {\isacharparenleft}omega\ {\isacharbackquote}\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{8}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}Domain\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isasymsubseteq}\ Domain\ a{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\ \isanewline
\isacommand{corollary}\isamarkupfalse%
\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}\ Range\ a\ {\isacharequal}\ G{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{4}}{\isadigit{7}}\ \isanewline
is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{2}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}Range\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ finestpart\ G{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{5}}s\ lm{\isadigit{4}}{\isadigit{7}}\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{3}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}Domain\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isasymsubseteq}\ N\ {\isacharampersand}\ \isanewline
Range\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}\ {\isacharequal}\ finestpart\ G{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{3}}\ lm{\isadigit{4}}{\isadigit{7}}\ mm{\isadigit{5}}{\isadigit{5}}s\ is{\isacharunderscore}partition{\isacharunderscore}of{\isacharunderscore}def\ subset{\isacharunderscore}trans\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{3}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}pseudoAllocation\ a\ {\isasymsubseteq}\ N\ {\isasymtimes}\ finestpart\ G{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{3}}b\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}pseudoAllocation\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}aa{\isacharequal}{\isachardoublequoteopen}{\isacharquery}p\ a{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}d{\isacharequal}Domain\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}r{\isacharequal}Range\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}d\ {\isacharquery}aa\ {\isasymsubseteq}\ N{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{3}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}r\ {\isacharquery}aa\ {\isasymsubseteq}\ finestpart\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{3}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}\ equalityE{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}d\ {\isacharquery}aa\ {\isasymtimes}\ {\isacharparenleft}{\isacharquery}r\ {\isacharquery}aa{\isacharparenright}\ {\isasymsubseteq}\ N\ {\isasymtimes}\ finestpart\ G{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}aa\ {\isasymsubseteq}\ N\ {\isasymtimes}\ finestpart\ G{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}mbc\ pseudo\ {\isacharequal}{\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ {\isasymUnion}\ {\isacharparenleft}pseudo\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharbar}\ x{\isachardot}\ x\ {\isasymin}\ Domain\ pseudo{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \isanewline
\isacommand{corollary}\isamarkupfalse%
\ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ X{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}image\ omega{\isacharparenright}\ {\isacharparenleft}Pow\ X{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{4}}\ mm{\isadigit{3}}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}pseudoAllocation\ {\isacharequal}\ Union\ {\isasymcirc}\ {\isacharparenleft}image\ omega{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}d{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}a\ {\isacharequal}\ mbc\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ Y{\isacharparenright}{\isacharbar}\ Y\ x{\isachardot}\ Y\ {\isasymin}\ finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}\ {\isacharampersand}\ x\ {\isasymin}\ Domain\ a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}a{\isacharequal}{\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}x{\isacharcomma}\ {\isasymUnion}\ {\isacharparenleft}{\isacharquery}p\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharbar}\ x{\isachardot}\ x\ {\isasymin}\ Domain\ {\isacharquery}p{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ Domain\ a{\isachardot}\ a{\isacharcomma}{\isacharcomma}x\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ assms\ ll{\isadigit{1}}{\isadigit{4}}{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ Domain\ a{\isachardot}\ finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{2}}{\isadigit{9}}{\isacharparenright}\ \isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Domain\ a\ {\isasymsubseteq}\ Domain\ {\isacharquery}p{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Domain\ a\ {\isasymsupseteq}\ Domain\ {\isacharquery}p{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}Domain\ a\ {\isacharequal}\ Domain\ {\isacharquery}p{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}a{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}x\ {\isasymin}\ Domain\ {\isacharquery}p\ {\isacharampersand}\ z{\isacharequal}{\isacharparenleft}x\ {\isacharcomma}\ {\isasymUnion}\ {\isacharparenleft}{\isacharquery}p\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Domain\ a\ {\isacharampersand}\ z{\isacharequal}{\isacharparenleft}x\ {\isacharcomma}\ {\isasymUnion}\ {\isacharparenleft}{\isacharquery}p\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}x{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}p{\isacharbackquote}{\isacharbackquote}{\isacharbraceleft}x{\isacharbraceright}\ {\isacharequal}\ finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}\ {\isacharparenleft}finestpart\ {\isacharparenleft}a{\isacharcomma}{\isacharcomma}x{\isacharparenright}{\isacharparenright}{\isacharequal}\ a{\isacharcomma}{\isacharcomma}x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{7}}{\isadigit{5}}{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ a{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ assms{\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ eval{\isacharunderscore}runiq{\isacharunderscore}rel{\isacharparenright}\isanewline
\ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}a\ {\isasymsubseteq}\ a{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}z\ {\isasymin}\ a{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}x{\isacharequal}{\isachardoublequoteopen}fst\ z{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}Y{\isacharequal}{\isachardoublequoteopen}a{\isacharcomma}{\isacharcomma}{\isacharquery}x{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}YY{\isacharequal}{\isachardoublequoteopen}finestpart\ {\isacharquery}Y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ a\ {\isacharampersand}\ {\isacharquery}x\ {\isasymin}\ Domain\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fst{\isacharunderscore}eq{\isacharunderscore}Domain\ rev{\isacharunderscore}image{\isacharunderscore}eqI{\isacharparenright}\ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isadigit{2}}{\isacharcolon}{\isachardoublequoteopen}z\ {\isasymin}\ a\ {\isacharampersand}\ {\isacharquery}x\ {\isasymin}\ Domain\ {\isacharquery}p{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ presburger\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}p\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}{\isacharquery}x{\isacharbraceright}\ {\isacharequal}\ {\isacharquery}YY{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}\ {\isacharparenleft}{\isacharquery}p\ {\isacharbackquote}{\isacharbackquote}\ {\isacharbraceleft}{\isacharquery}x{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ {\isacharquery}Y{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mm{\isadigit{7}}{\isadigit{5}}{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isacharequal}\ {\isacharparenleft}{\isacharquery}x{\isacharcomma}\ {\isacharquery}Y{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ mm{\isadigit{6}}{\isadigit{0}}\ surjective{\isacharunderscore}pairing{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isacharquery}a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}\ {\isacharquery}a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}p\ {\isacharequal}\ pseudoAllocation\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{5}}{\isadigit{5}}v\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}dd{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ runiqs\ {\isasyminter}\ Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}{\isacharparenleft}mbc\ {\isasymcirc}\ pseudoAllocation{\isacharparenright}\ a\ {\isacharequal}\ id\ a{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{5}}d\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}runiq\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ runiqs{\isacharunderscore}def\ assms\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharbraceright}\ {\isasymnotin}\ Range\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}d\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}e{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ {\isacharparenleft}mbc\ {\isasymcirc}\ pseudoAllocation{\isacharparenright}\ {\isacharparenleft}runiqs\ {\isasyminter}\ Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{5}}dd\ inj{\isacharunderscore}on{\isacharunderscore}def\ inj{\isacharunderscore}on{\isacharunderscore}id\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}ne{\isacharequal}{\isachardoublequoteopen}Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}X{\isacharequal}{\isachardoublequoteopen}runiqs\ {\isasyminter}\ {\isacharquery}ne{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}f{\isacharequal}{\isachardoublequoteopen}mbc\ {\isasymcirc}\ pseudoAllocation{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isadigit{1}}\ {\isasymin}\ {\isacharquery}X{\isachardot}\ {\isasymforall}\ a{\isadigit{2}}\ {\isasymin}\ {\isacharquery}X{\isachardot}\ {\isacharquery}f\ a{\isadigit{1}}\ {\isacharequal}\ {\isacharquery}f\ a{\isadigit{2}}\ {\isasymlongrightarrow}\ id\ a{\isadigit{1}}\ {\isacharequal}\ id\ a{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}dd\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{then}\isamarkupfalse%
\ \isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isadigit{1}}\ {\isasymin}\ {\isacharquery}X{\isachardot}\ {\isasymforall}\ a{\isadigit{2}}\ {\isasymin}\ {\isacharquery}X{\isachardot}\ {\isacharquery}f\ a{\isadigit{1}}\ {\isacharequal}\ {\isacharquery}f\ a{\isadigit{2}}\ {\isasymlongrightarrow}\ a{\isadigit{1}}\ {\isacharequal}\ a{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ inj{\isacharunderscore}on{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}g{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ pseudoAllocation\ {\isacharparenleft}runiqs\ {\isasyminter}\ Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}e\ inj{\isacharunderscore}on{\isacharunderscore}imageI{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}injectionsUniverse\ {\isasymsubseteq}\ runiqs{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ runiqs{\isacharunderscore}def\ Collect{\isacharunderscore}conj{\isacharunderscore}eq\ Int{\isacharunderscore}lower{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}partitionValuedUniverse\ {\isasymsubseteq}\ Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}partition{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}i{\isacharcolon}\ {\isachardoublequoteopen}allocationsUniverse\ {\isasymsubseteq}\ runiqs\ {\isasyminter}\ Pow\ {\isacharparenleft}UNIV\ {\isasymtimes}\ {\isacharparenleft}UNIV\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{6}}\ mm{\isadigit{7}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}h{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ pseudoAllocation\ allocationsUniverse{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{5}}g\ mm{\isadigit{7}}{\isadigit{5}}i\ subset{\isacharunderscore}inj{\isacharunderscore}on\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}j{\isacharcolon}\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ pseudoAllocation\ {\isacharparenleft}possibleAllocationsRel\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}possibleAllocationsRel\ N\ G\ {\isasymsubseteq}\ allocationsUniverse{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ lm{\isadigit{5}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}inj{\isacharunderscore}on\ pseudoAllocation\ {\isacharparenleft}possibleAllocationsRel\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{5}}h\ subset{\isacharunderscore}inj{\isacharunderscore}on\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prova\ \isakeyword{where}\ {\isachardoublequoteopen}prova\ f\ X\ {\isadigit{0}}\ {\isacharequal}\ X{\isachardoublequoteclose}\ {\isacharbar}\ {\isachardoublequoteopen}prova\ f\ X\ {\isacharparenleft}Suc\ n{\isacharparenright}\ {\isacharequal}\ f\ n\ {\isacharparenleft}prova\ f\ X\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ prova{\isadigit{2}}\ \isakeyword{where}\ {\isachardoublequoteopen}prova{\isadigit{2}}\ f\ {\isadigit{0}}\ {\isacharequal}\ UNIV{\isachardoublequoteclose}\ {\isacharbar}{\isachardoublequoteopen}prova{\isadigit{2}}\ f\ {\isacharparenleft}Suc\ n{\isacharparenright}\ {\isacharequal}\ f\ n\ {\isacharparenleft}prova{\isadigit{2}}\ f\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ geniter\ \isakeyword{where}\ {\isachardoublequoteopen}geniter\ f\ {\isadigit{0}}\ {\isacharequal}\ f\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isacharbar}\ {\isachardoublequoteopen}geniter\ f\ {\isacharparenleft}Suc\ n{\isacharparenright}{\isacharequal}{\isacharparenleft}f\ {\isacharparenleft}Suc\ n{\isacharparenright}{\isacharparenright}\ o\ {\isacharparenleft}geniter\ f\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}pseudodecreasing\ X\ Y\ {\isacharequal}{\isacharequal}\ card\ X\ {\isacharminus}\ {\isadigit{1}}\ {\isasymle}\ card\ Y\ {\isacharminus}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{notation}\isamarkupfalse%
\ pseudodecreasing\ {\isacharparenleft}\isakeyword{infix}\ {\isachardoublequoteopen}{\isacharless}{\isachartilde}{\isachardoublequoteclose}\ {\isadigit{7}}{\isadigit{5}}{\isacharparenright}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}subList\ l\ xl\ {\isacharequal}{\isacharequal}\ map\ {\isacharparenleft}nth\ l{\isacharparenright}\ {\isacharparenleft}takeAll\ {\isacharparenleft}{\isacharpercent}x{\isachardot}\ x\ {\isasymle}\ size\ l{\isacharparenright}\ xl{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}insertRightOf{\isadigit{2}}\ x\ l\ n\ {\isacharequal}{\isacharequal}\ {\isacharparenleft}subList\ l\ {\isacharparenleft}map\ nat\ {\isacharbrackleft}{\isadigit{0}}{\isachardot}{\isachardot}n{\isacharbrackright}{\isacharparenright}{\isacharparenright}\ {\isacharat}\ {\isacharbrackleft}x{\isacharbrackright}\ {\isacharat}\ \isanewline
{\isacharparenleft}subList\ l\ {\isacharparenleft}map\ nat\ {\isacharbrackleft}n{\isacharplus}{\isadigit{1}}{\isachardot}{\isachardot}size\ l\ {\isacharminus}\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}insertRightOf{\isadigit{3}}\ x\ l\ n\ {\isacharequal}{\isacharequal}\ insertRightOf{\isadigit{2}}\ x\ l\ {\isacharparenleft}Min\ {\isacharbraceleft}n{\isacharcomma}\ size\ l\ {\isacharminus}\ {\isadigit{1}}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}insertRightOf\ x\ l\ n\ {\isacharequal}\ sublist\ l\ {\isacharbraceleft}{\isadigit{0}}{\isachardot}{\isachardot}{\isacharless}{\isadigit{1}}{\isacharplus}n{\isacharbraceright}\ {\isacharat}\ {\isacharbrackleft}x{\isacharbrackright}\ {\isacharat}\ sublist\ l\ {\isacharbraceleft}n{\isacharplus}{\isadigit{1}}{\isachardot}{\isachardot}{\isacharless}\ {\isadigit{1}}{\isacharplus}size\ l{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}insertRightOf\ x\ l\ n{\isacharparenright}\ {\isacharequal}\ set\ {\isacharparenleft}sublist\ l\ {\isacharbraceleft}{\isadigit{0}}{\isachardot}{\isachardot}{\isacharless}{\isadigit{1}}{\isacharplus}n{\isacharbraceright}{\isacharparenright}\ {\isasymunion}\ {\isacharparenleft}set\ {\isacharbrackleft}x{\isacharbrackright}{\isacharparenright}\ {\isasymunion}\ \isanewline
set\ {\isacharparenleft}sublist\ l\ {\isacharbraceleft}n{\isacharplus}{\isadigit{1}}{\isachardot}{\isachardot}{\isacharless}{\isadigit{1}}{\isacharplus}size\ l{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ insertRightOf{\isacharunderscore}def\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ append{\isacharunderscore}assoc\ set{\isacharunderscore}append{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ l{\isadigit{1}}\ {\isasymunion}\ set\ l{\isadigit{2}}\ {\isacharequal}\ set\ {\isacharparenleft}l{\isadigit{1}}\ {\isacharat}\ l{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ permOld{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharprime}a\ list\ {\isacharequal}{\isachargreater}\ {\isacharparenleft}nat\ {\isasymtimes}\ {\isacharparenleft}{\isacharprime}a\ list{\isacharparenright}{\isacharparenright}\ set{\isachardoublequoteclose}\ \isakeyword{where}\ \isanewline
{\isachardoublequoteopen}permOld\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\ {\isachardoublequoteopen}permOld\ {\isacharparenleft}x{\isacharhash}l{\isacharparenright}\ {\isacharequal}\ \isanewline
graph\ {\isacharbraceleft}fact\ {\isacharparenleft}size\ l{\isacharparenright}\ {\isachardot}{\isachardot}{\isacharless}\ {\isadigit{1}}{\isacharplus}fact\ {\isacharparenleft}{\isadigit{1}}\ {\isacharplus}\ {\isacharparenleft}size\ l{\isacharparenright}{\isacharparenright}{\isacharbraceright}\isanewline
{\isacharparenleft}{\isacharpercent}n{\isacharcolon}{\isacharcolon}nat{\isachardot}\ insertRightOf\ x\ {\isacharparenleft}permOld\ l{\isacharcomma}{\isacharcomma}{\isacharparenleft}n\ div\ size\ l{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}n\ mod\ {\isacharparenleft}size\ l{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
{\isacharplus}{\isacharasterisk}\ {\isacharparenleft}permOld\ l{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ permL\ \isakeyword{where}\ \isanewline
{\isachardoublequoteopen}permL\ {\isacharbrackleft}{\isacharbrackright}\ {\isacharequal}\ {\isacharparenleft}{\isacharpercent}n{\isachardot}\ {\isacharbrackleft}{\isacharbrackright}{\isacharparenright}{\isachardoublequoteclose}{\isacharbar}\isanewline
{\isachardoublequoteopen}permL\ {\isacharparenleft}x{\isacharhash}l{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharpercent}n{\isachardot}\ \isanewline
if\ {\isacharparenleft}fact\ {\isacharparenleft}size\ l{\isacharparenright}\ {\isacharless}\ n\ {\isacharampersand}\ n\ {\isacharless}{\isacharequal}\ fact\ {\isacharparenleft}{\isadigit{1}}\ {\isacharplus}\ {\isacharparenleft}size\ l{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
then\isanewline
{\isacharparenleft}insertRightOf{\isadigit{3}}\ x\ {\isacharparenleft}permL\ l\ {\isacharparenleft}n\ div\ size\ l{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}n\ mod\ {\isacharparenleft}size\ l{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
else\isanewline
{\isacharparenleft}x\ {\isacharhash}\ {\isacharparenleft}permL\ l\ n{\isacharparenright}{\isacharparenright}\isanewline
{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}possibleAllocationsAlg{\isadigit{2}}\ N\ G\ {\isacharequal}\ set\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{5}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}card\ N\ {\isachargreater}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids\ {\isasymsubseteq}\ set\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{4}}\ lm{\isadigit{0}}{\isadigit{3}}\ lm{\isadigit{7}}{\isadigit{0}}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{6}}{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids\ {\isasyminter}\ set\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{1}}\ mm{\isadigit{9}}{\isadigit{5}}\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}w{\isacharequal}winningAllocationsRel\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}a{\isacharequal}possibleAllocationsAlg{\isadigit{3}}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}G{\isacharequal}{\isachardoublequoteopen}set\ G{\isachardoublequoteclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ N\ {\isachargreater}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ card{\isacharunderscore}gt{\isacharunderscore}{\isadigit{0}}{\isacharunderscore}iff{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}w\ N\ {\isacharquery}G\ bids\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\isacharquery}a\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ assms{\isacharparenleft}{\isadigit{3}}{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set\ le{\isacharunderscore}iff{\isacharunderscore}inf{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}X\ {\isacharequal}\ {\isacharparenleft}{\isacharpercent}x{\isachardot}\ x\ {\isasymin}\ X{\isacharparenright}\ {\isacharminus}{\isacharbackquote}{\isacharbraceleft}True{\isacharbraceright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{6}}b{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}{\isacharparenleft}{\isacharpercent}x{\isachardot}\ x{\isasymin}winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids{\isacharparenright}{\isacharminus}{\isacharbackquote}{\isacharbraceleft}True{\isacharbraceright}\ {\isasyminter}\ set\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{9}}{\isadigit{6}}\ mm{\isadigit{9}}{\isadigit{7}}\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{4}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}P\ {\isacharminus}{\isacharbackquote}\ {\isacharbraceleft}True{\isacharbraceright}\ {\isasyminter}\ set\ l\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}takeAll\ P\ l\ {\isasymnoteq}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
mm{\isadigit{8}}{\isadigit{4}}g\ filterpositions{\isadigit{2}}{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Nil{\isacharunderscore}is{\isacharunderscore}map{\isacharunderscore}conv{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{4}}h{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}takeAll\ {\isacharparenleft}{\isacharpercent}x{\isachardot}\ x\ {\isasymin}\ winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids{\isacharparenright}\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}\ {\isasymnoteq}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{4}}b\ mm{\isadigit{9}}{\isadigit{6}}b\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ nn{\isadigit{0}}{\isadigit{5}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}perm{\isadigit{2}}\ {\isacharparenleft}takeAll\ {\isacharparenleft}{\isacharpercent}x{\isachardot}\ x\ {\isasymin}\ winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids{\isacharparenright}\ {\isacharparenleft}possibleAllocationsAlg{\isadigit{3}}\ N\ G{\isacharparenright}{\isacharparenright}\ n\ {\isasymnoteq}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{3}}\ mm{\isadigit{8}}{\isadigit{4}}h\ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{2}}{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}chosenAllocation{\isacharprime}\ N\ G\ bids\ random\ {\isasymin}\ winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ nn{\isadigit{0}}{\isadigit{5}}a\ nn{\isadigit{0}}{\isadigit{5}}b\ hd{\isacharunderscore}in{\isacharunderscore}set\ in{\isacharunderscore}mono\ Int{\isacharunderscore}def\ Int{\isacharunderscore}lower{\isadigit{1}}\ all{\isacharunderscore}not{\isacharunderscore}in{\isacharunderscore}conv\ image{\isacharunderscore}set\ nn{\isadigit{0}}{\isadigit{4}}\ nn{\isadigit{0}}{\isadigit{6}}c\ set{\isacharunderscore}empty\ subsetI\ subset{\isacharunderscore}trans\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}w{\isacharequal}winningAllocationsRel\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}possibleAllocationsAlg{\isadigit{3}}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}G{\isacharequal}{\isachardoublequoteopen}set\ G{\isachardoublequoteclose}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}X{\isacharequal}{\isachardoublequoteopen}{\isacharquery}w\ N\ {\isacharquery}G\ bids{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}{\isachardoublequoteopen}perm{\isadigit{2}}\ {\isacharparenleft}takeAll\ {\isacharparenleft}{\isacharpercent}x{\isachardot}{\isacharparenleft}x{\isasymin}{\isacharquery}X{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}{\isacharquery}p\ N\ G{\isacharparenright}{\isacharparenright}\ random{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharquery}l\ {\isasymsubseteq}\ {\isacharquery}X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nn{\isadigit{0}}{\isadigit{5}}a\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}l\ {\isasymnoteq}\ {\isacharbrackleft}{\isacharbrackright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ nn{\isadigit{0}}{\isadigit{5}}b\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ no{\isacharunderscore}types{\isacharparenright}\ hd{\isacharunderscore}in{\isacharunderscore}set\ in{\isacharunderscore}mono{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{4}}{\isadigit{9}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}real{\isacharparenleft}setsum{\isacharparenleft}maxbid{\isacharprime}\ a\ N\ G{\isacharparenright}{\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ setsum{\isacharparenleft}maxbid{\isacharprime}\ a\ N\ G{\isacharparenright}{\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}\ \isanewline
{\isacharequal}\ real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}pseudoAllocation\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}f{\isacharequal}finestpart\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}m{\isacharequal}maxbid{\isacharprime}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}B{\isacharequal}{\isachardoublequoteopen}{\isacharquery}m\ a\ N\ G{\isachardoublequoteclose}\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}p\ aa\ {\isasymsubseteq}\ N\ {\isasymtimes}\ {\isacharquery}f\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{3}}c\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}p\ aa\ {\isasymsubseteq}\ {\isacharquery}p\ a\ {\isasymunion}\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharquery}f\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{8}}\ mm{\isadigit{5}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}real{\isacharparenleft}setsum\ {\isacharquery}B\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isacharminus}setsum\ {\isacharquery}B\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}\ {\isacharequal}\ real{\isacharparenleft}card\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isacharminus}card{\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isacommand{using}\isamarkupfalse%
\ mm{\isadigit{2}}{\isadigit{8}}d\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{8}}\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}e{\isacharcolon}\ {\isachardoublequoteopen}LinearCompletion\ bids\ N\ G\ {\isacharequal}\ graph\ {\isacharparenleft}N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}test\ bids{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ graph{\isacharunderscore}def\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{6}}{\isadigit{6}}\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ ll{\isadigit{3}}{\isadigit{3}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}x{\isasymin}X{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}toFunction\ {\isacharparenleft}graph\ X\ f{\isacharparenright}\ x\ {\isacharequal}\ f\ x{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ ll{\isadigit{3}}{\isadigit{3}}\ toFunction{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ ll{\isadigit{3}}{\isadigit{3}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}pair\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}linearCompletion{\isacharprime}\ bids\ N\ G\ pair{\isacharequal}test\ bids\ pair{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ ll{\isadigit{3}}{\isadigit{3}}b\ mm{\isadigit{6}}{\isadigit{6}}e\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}test\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}{\isacharparenleft}bids{\isacharcolon}{\isacharcolon}\ {\isacharunderscore}\ {\isacharequal}{\isachargreater}\ nat{\isacharparenright}{\isacharparenright}{\isacharparenright}\ pair\ {\isacharequal}\ real\ {\isacharparenleft}test\ bids\ pair{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{lemma}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}b{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}pair\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}linearCompletion{\isacharprime}\ {\isacharparenleft}real{\isasymcirc}{\isacharparenleft}bids{\isacharcolon}{\isacharcolon}\ {\isacharunderscore}\ {\isacharequal}{\isachargreater}\ nat{\isacharparenright}{\isacharparenright}\ N\ G\ pair\ {\isacharequal}\ real\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G\ pair{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ ll{\isadigit{3}}{\isadigit{3}}c\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}pair\ {\isasymin}\ X{\isachardot}\ \isanewline
linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}bids{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharequal}{\isachargreater}nat{\isacharparenright}{\isacharparenright}\ N\ G\ pair{\isacharequal}\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}{\isacharparenright}\ pair{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}b\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymtimes}\ {\isacharprime}b\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isasymin}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G\ {\isacharminus}\ {\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ bids{\isacharparenright}\ N\ G\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isacharequal}\ real\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}b\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isasymnotin}\ X\ {\isasymor}\ linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ bids{\isacharparenright}\ N\ G\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}real\ {\isasymcirc}\ linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isasymnotin}\ X\ {\isasymor}\ linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ bids{\isacharparenright}\ N\ G\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}real\ {\isasymcirc}\ linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ esk{\isadigit{4}}{\isadigit{8}}\isactrlsub {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}pair{\isasymin}X{\isachardot}\ linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ bids{\isacharparenright}\ N\ G\ pair\ {\isacharequal}\ {\isacharparenleft}real\ {\isasymcirc}\ linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}\ pair{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}e{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}aa\ {\isasymsubseteq}\ N\ {\isasymtimes}\ {\isacharparenleft}Pow\ G{\isacharminus}{\isacharbraceleft}{\isacharbraceleft}{\isacharbraceright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}{\isacharparenleft}linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}bids{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharequal}{\isachargreater}nat{\isacharparenright}{\isacharparenright}\ N\ G{\isacharparenright}{\isacharparenright}\ aa\ {\isacharequal}\ real\ {\isacharparenleft}setsum\ {\isacharparenleft}{\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}{\isacharparenright}\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
{\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ pair\ {\isasymin}\ aa{\isachardot}\ linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ bids{\isacharparenright}\ N\ G\ pair\ {\isacharequal}\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}{\isacharparenright}\ pair{\isachardoublequoteclose}\isanewline
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}c{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}L\ {\isacharequal}\ setsum\ {\isacharparenleft}real{\isasymcirc}{\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}{\isacharparenright}\ aa{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ setsum{\isachardot}cong\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}d{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}{\isacharparenleft}linearCompletion{\isacharprime}\ {\isacharparenleft}real\ {\isasymcirc}\ {\isacharparenleft}bids{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharequal}{\isachargreater}nat{\isacharparenright}{\isacharparenright}\ N\ G{\isacharparenright}{\isacharparenright}\ aa\ {\isacharequal}\ real\ {\isacharparenleft}setsum\ {\isacharparenleft}{\isacharparenleft}linearCompletion{\isacharprime}\ bids\ N\ G{\isacharparenright}{\isacharparenright}\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}e\ mm{\isadigit{6}}{\isadigit{3}}c\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis{\isacharparenleft}lifting{\isacharcomma}mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{0}}b{\isacharcolon}\ \isanewline
\isakeyword{assumes}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}real\ {\isacharparenleft}setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isacharparenright}\ {\isacharminus}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa\ {\isacharequal}\ \isanewline
real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}L{\isacharequal}{\isacharquery}R{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}l{\isacharequal}linearCompletion{\isacharprime}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}m{\isacharequal}maxbid{\isacharprime}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}s{\isacharequal}setsum\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}pseudoAllocation\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}bb{\isacharequal}{\isachardoublequoteopen}{\isacharquery}m\ a\ N\ G{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}b{\isacharequal}{\isachardoublequoteopen}real\ {\isasymcirc}\ {\isacharparenleft}{\isacharquery}m\ a\ N\ G{\isacharparenright}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}real\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharquery}R{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{9}}b\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}R\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}b\ N\ G{\isacharparenright}\ aa\ {\isacharequal}\ {\isacharquery}s\ {\isacharquery}b\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{9}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\ \isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}b\ N\ G{\isacharparenright}\ aa{\isacharparenright}\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}bb\ N\ G{\isacharparenright}\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}d{\isacharparenright}\isanewline
\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}R\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isacharparenleft}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}bb\ N\ G{\isacharparenright}\ aa{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharbackquoteopen}real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ real\ {\isacharparenleft}card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ real\ {\isacharparenleft}setsum\ {\isacharparenleft}pseudoAllocation\ a\ {\isacharless}{\isacharbar}\ {\isacharparenleft}N\ {\isasymtimes}\ finestpart\ G{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ real\ {\isacharparenleft}setsum\ {\isacharparenleft}pseudoAllocation\ a\ {\isacharless}{\isacharbar}\ {\isacharparenleft}N\ {\isasymtimes}\ finestpart\ G{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}pseudoAllocation\ aa{\isacharparenright}{\isacharparenright}{\isacharbackquoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}b\ N\ G{\isacharparenright}\ a{\isacharequal}{\isacharparenleft}{\isacharquery}s\ {\isacharquery}b\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{6}}{\isadigit{9}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}b\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}bb\ N\ G{\isacharparenright}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lm{\isadigit{0}}{\isadigit{3}}{\isadigit{1}}d{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}s\ {\isacharparenleft}{\isacharquery}l\ {\isacharquery}bb\ N\ G{\isacharparenright}\ a\ {\isacharequal}\ real\ {\isacharparenleft}{\isacharquery}s\ {\isacharquery}bb\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\ \isacommand{try{\isadigit{0}}}\isamarkupfalse%
\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{0}}c{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}x{\isacharequal}real\ {\isacharparenleft}setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isacharparenright}\ {\isacharminus}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa{\isachardoublequoteclose}\ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}x\ {\isacharless}{\isacharequal}\ card\ G\ {\isacharampersand}\ x\ {\isasymge}\ {\isadigit{0}}\ {\isacharampersand}\ {\isacharparenleft}x{\isacharequal}{\isadigit{0}}\ {\isasymlongleftrightarrow}\ a\ {\isacharequal}\ aa{\isacharparenright}\ {\isacharampersand}\ {\isacharparenleft}aa\ {\isasymnoteq}\ a\ {\isasymlongrightarrow}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa\ {\isacharless}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}pseudoAllocation\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isachargreater}{\isacharequal}\ real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}real\ {\isacharparenleft}setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isacharparenright}\ {\isacharminus}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa\ {\isacharequal}\ \isanewline
real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}pseudoAllocation\ aa\ {\isasyminter}\ {\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{0}}b\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}x{\isacharequal}real{\isacharparenleft}card\ G{\isacharparenright}{\isacharminus}card{\isacharparenleft}pseudoAllocation\ aa{\isasyminter}{\isacharparenleft}pseudoAllocation\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ force\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymle}\ real\ {\isacharparenleft}card\ G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ linarith\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}\ {\isacharequal}\ card\ G\ {\isacharampersand}\ card\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}\ {\isacharequal}\ card\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{4}}{\isadigit{8}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\isacharquery}p\ aa{\isacharparenright}\ {\isacharampersand}\ finite\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{5}}{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharquery}p\ a{\isacharparenright}\ {\isasymle}\ card\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Int{\isacharunderscore}lower{\isadigit{2}}\ card{\isacharunderscore}mono\ \isacommand{by}\isamarkupfalse%
\ fastforce\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{0}}b\ {\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ linarith\ \isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ card\ G\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isacharequal}\ {\isacharquery}p\ a{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isacommand{using}\isamarkupfalse%
\ {\isadigit{0}}\ mm{\isadigit{5}}{\isadigit{6}}\ {\isadigit{4}}\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}p\ aa\ {\isacharequal}\ {\isacharquery}p\ a\ {\isasymlongrightarrow}\ a\ {\isacharequal}\ aa{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{5}}j\ inj{\isacharunderscore}on{\isacharunderscore}def\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}lifting{\isacharcomma}\ mono{\isacharunderscore}tags{\isacharparenright}{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ card\ G\ {\isasymlongleftrightarrow}\ {\isacharparenleft}a{\isacharequal}aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}\ real\ {\isacharparenleft}card\ G{\isacharparenright}\ {\isacharminus}\ card\ {\isacharparenleft}{\isacharquery}p\ aa\ {\isasyminter}\ {\isacharparenleft}{\isacharquery}p\ a{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{0}}b\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isacharequal}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}a{\isacharequal}aa{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ linarith\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}aa\ {\isasymnoteq}\ a\ {\isasymlongrightarrow}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa\ {\isacharless}\ real\ {\isacharparenleft}setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{2}}\ assms\ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{2}}\ {\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ mm{\isadigit{7}}{\isadigit{0}}d{\isacharcolon}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}aa\ {\isasymin}\ possibleAllocationsRel\ N\ G{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}aa\ {\isasymnoteq}\ a{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ aa\ {\isacharless}\ setsum\ {\isacharparenleft}tiebids{\isacharprime}\ a\ N\ G{\isacharparenright}\ a{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{0}}c\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{1}}{\isacharcolon}\ \isakeyword{assumes}\isanewline
{\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}aa\ {\isasymin}\ {\isacharparenleft}possibleAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}{\isacharparenright}{\isacharminus}{\isacharbraceleft}chosenAllocation{\isacharprime}\ N\ G\ bids\ random{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{shows}\ \isanewline
{\isachardoublequoteopen}setsum\ {\isacharparenleft}resolvingBid{\isacharprime}\ N\ G\ bids\ random{\isacharparenright}\ aa\ {\isacharless}\ setsum\ {\isacharparenleft}resolvingBid{\isacharprime}\ N\ G\ bids\ random{\isacharparenright}\ {\isacharparenleft}chosenAllocation{\isacharprime}\ N\ G\ bids\ random{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}a{\isacharequal}{\isachardoublequoteopen}chosenAllocation{\isacharprime}\ N\ G\ bids\ random{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}possibleAllocationsRel\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}G{\isacharequal}{\isachardoublequoteopen}set\ G{\isachardoublequoteclose}\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}a\ {\isasymin}\ winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}winningAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}\ bids\ {\isasymsubseteq}\ {\isacharquery}p\ N\ {\isacharquery}G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{0}}{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}a\ {\isasymin}\ {\isacharquery}p\ N\ {\isacharquery}G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{2}}\ assms\ lm{\isadigit{0}}{\isadigit{3}}\ set{\isacharunderscore}rev{\isacharunderscore}mp\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{7}}{\isadigit{0}}d\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}terminatingAuctionRel\ N\ G\ bids\ random\ {\isacharequal}{\isacharequal}\ \isanewline
argmax\ {\isacharparenleft}setsum\ {\isacharparenleft}resolvingBid{\isacharprime}\ N\ G\ bids\ random{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}argmax\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}possibleAllocationsRel\ N\ {\isacharparenleft}set\ G{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
Termination theorem: it assures that the number of winning allocations is exactly one%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ mm{\isadigit{9}}{\isadigit{2}}{\isacharcolon}\ \isakeyword{assumes}\ \isanewline
{\isachardoublequoteopen}N\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ G{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ G\ {\isasymnoteq}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ \ \isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}terminatingAuctionRel\ N\ G\ {\isacharparenleft}bids{\isacharparenright}\ random\ {\isacharequal}\ {\isacharbraceleft}chosenAllocation{\isacharprime}\ N\ G\ bids\ random{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}p{\isacharequal}possibleAllocationsRel\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}G{\isacharequal}{\isachardoublequoteopen}set\ G{\isachardoublequoteclose}\ \isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}X{\isacharequal}{\isachardoublequoteopen}argmax\ {\isacharparenleft}setsum\ bids{\isacharparenright}\ {\isacharparenleft}{\isacharquery}p\ N\ {\isacharquery}G{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}a{\isacharequal}{\isachardoublequoteopen}chosenAllocation{\isacharprime}\ N\ G\ bids\ random{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}b{\isacharequal}{\isachardoublequoteopen}resolvingBid{\isacharprime}\ N\ G\ bids\ random{\isachardoublequoteclose}\isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}f{\isacharequal}{\isachardoublequoteopen}setsum\ {\isacharquery}b{\isachardoublequoteclose}\ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}ff{\isacharequal}{\isachardoublequoteopen}setsum\ {\isacharquery}b{\isachardoublequoteclose}\ \isanewline
\isacommand{let}\isamarkupfalse%
\ {\isacharquery}t{\isacharequal}terminatingAuctionRel\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}aa{\isasymin}{\isacharparenleft}possibleAllocationsRel\ N\ {\isacharquery}G{\isacharparenright}{\isacharminus}{\isacharbraceleft}{\isacharquery}a{\isacharbraceright}{\isachardot}\ \ {\isacharquery}f\ aa\ {\isacharless}\ {\isacharquery}f\ {\isacharquery}a{\isachardoublequoteclose}\ \isanewline
\isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}aa\ {\isasymin}\ {\isacharquery}X{\isacharminus}{\isacharbraceleft}{\isacharquery}a{\isacharbraceright}{\isachardot}\ {\isacharquery}f\ aa\ {\isacharless}\ {\isacharquery}f\ {\isacharquery}a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ mm{\isadigit{8}}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ N{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ simp\ \isacommand{then}\isamarkupfalse%
\ \isanewline
\isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\isacharquery}p\ N\ {\isacharquery}G{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ lm{\isadigit{5}}{\isadigit{9}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ List{\isachardot}finite{\isacharunderscore}set{\isacharparenright}\isanewline
\isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ finite{\isacharunderscore}subset\ lm{\isadigit{0}}{\isadigit{3}}{\isacharparenright}\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}a\ {\isasymin}\ {\isacharquery}X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{2}}\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}finite\ {\isacharquery}X\ {\isacharampersand}\ {\isacharquery}a\ {\isasymin}\ {\isacharquery}X\ {\isacharampersand}\ {\isacharparenleft}{\isasymforall}aa\ {\isasymin}\ {\isacharquery}X{\isacharminus}{\isacharbraceleft}{\isacharquery}a{\isacharbraceright}{\isachardot}\ {\isacharquery}f\ aa\ {\isacharless}\ {\isacharquery}f\ {\isacharquery}a{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}finite\ {\isacharquery}X\ {\isacharampersand}\ {\isacharquery}a\ {\isasymin}\ {\isacharquery}X\ {\isacharampersand}\ {\isacharparenleft}{\isasymforall}aa\ {\isasymin}\ {\isacharquery}X{\isacharminus}{\isacharbraceleft}{\isacharquery}a{\isacharbraceright}{\isachardot}\ {\isacharquery}f\ aa\ {\isacharless}\ {\isacharquery}f\ {\isacharquery}a{\isacharparenright}{\isacharparenright}\ {\isasymlongrightarrow}\ argmax\ {\isacharquery}f\ {\isacharquery}X\ {\isacharequal}\ {\isacharbraceleft}{\isacharquery}a{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mm{\isadigit{8}}{\isadigit{0}}c{\isacharparenright}\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharquery}a{\isacharbraceright}\ {\isacharequal}\ argmax\ {\isacharquery}f\ {\isacharquery}X{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ mm{\isadigit{8}}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ {\isacharquery}t\ N\ G\ bids\ random{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
A more computable adaptor from set-theoretical to HOL function, with fallback value%
\end{isamarkuptext}%
\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}toFunctionWithFallback{\isadigit{2}}\ R\ fallback\ {\isacharequal}{\isacharequal}\ {\isacharparenleft}{\isacharpercent}\ x{\isachardot}\ if\ {\isacharparenleft}x\ {\isasymin}\ Domain\ R{\isacharparenright}\ then\ {\isacharparenleft}R{\isacharcomma}{\isacharcomma}x{\isacharparenright}\ else\ fallback{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isacommand{notation}\isamarkupfalse%
\ toFunctionWithFallback{\isadigit{2}}\ {\isacharparenleft}\isakeyword{infix}\ {\isachardoublequoteopen}Elsee{\isachardoublequoteclose}\ {\isadigit{7}}{\isadigit{5}}{\isacharparenright}%
\isamarkupsection{Combinatorial auction input examples%
}
\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}N{\isadigit{0}}{\isadigit{0}}\ {\isacharequal}{\isacharequal}\ {\isacharbraceleft}{\isadigit{1}}{\isacharcomma}{\isadigit{2}}{\isacharcolon}{\isacharcolon}nat{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}G{\isadigit{0}}{\isadigit{0}}\ {\isacharequal}{\isacharequal}\ {\isacharbrackleft}{\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\isacharcolon}nat{\isacharcomma}\ {\isadigit{1}}{\isadigit{2}}{\isacharcomma}\ {\isadigit{1}}{\isadigit{3}}{\isacharbrackright}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}A{\isadigit{0}}{\isadigit{0}}\ {\isacharequal}{\isacharequal}\ {\isacharbraceleft}{\isacharparenleft}{\isadigit{0}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\isadigit{1}}{\isadigit{1}}{\isacharcolon}{\isacharcolon}nat{\isacharbraceright}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{2}}{\isacharcomma}{\isadigit{1}}{\isadigit{3}}{\isacharbraceright}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}b{\isadigit{0}}{\isadigit{0}}\ {\isacharequal}{\isacharequal}\ \isanewline
{\isacharbraceleft}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{1}}{\isacharcolon}{\isacharcolon}int{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{1}}{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{3}}{\isacharparenright}{\isacharcomma}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{2}}{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{0}}{\isacharparenright}{\isacharcomma}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{1}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\isadigit{1}}{\isadigit{2}}{\isacharcolon}{\isacharcolon}nat{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{4}}{\isacharcolon}{\isacharcolon}price{\isacharparenright}{\isacharcomma}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{1}}{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{2}}{\isacharparenright}{\isacharcomma}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{2}}{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{2}}{\isacharparenright}{\isacharcomma}\isanewline
{\isacharparenleft}{\isacharparenleft}{\isadigit{2}}{\isacharcomma}{\isacharbraceleft}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\isadigit{1}}{\isadigit{2}}{\isacharbraceright}{\isacharparenright}{\isacharcomma}{\isadigit{1}}{\isacharparenright}\isanewline
{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\end{isabellebody}%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "root"
%%% End:
