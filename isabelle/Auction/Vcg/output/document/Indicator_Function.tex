%
\begin{isabellebody}%
\def\isabellecontext{Indicator{\isacharunderscore}Function}%
%
\isamarkupheader{Indicator Function%
}
\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Indicator{\isacharunderscore}Function\isanewline
\isakeyword{imports}\ Complex{\isacharunderscore}Main\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}indicator\ S\ x\ {\isacharequal}\ {\isacharparenleft}if\ x\ {\isasymin}\ S\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}simps{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}x\ {\isasymin}\ S\ {\isasymLongrightarrow}\ indicator\ S\ x\ {\isacharequal}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}x\ {\isasymnotin}\ S\ {\isasymLongrightarrow}\ indicator\ S\ x\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}pos{\isacharunderscore}le{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}semidom{\isacharparenright}\ {\isasymle}\ indicator\ S\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ indicator{\isacharunderscore}le{\isacharunderscore}{\isadigit{1}}{\isacharbrackleft}intro{\isacharcomma}\ simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}indicator\ S\ x\ {\isasymle}\ {\isacharparenleft}{\isadigit{1}}{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}semidom{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}abs{\isacharunderscore}le{\isacharunderscore}{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymbar}indicator\ S\ x{\isasymbar}\ {\isasymle}\ {\isacharparenleft}{\isadigit{1}}{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}idom{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}eq{\isacharunderscore}{\isadigit{0}}{\isacharunderscore}iff{\isacharcolon}\ {\isachardoublequoteopen}indicator\ A\ x\ {\isacharequal}\ {\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharcolon}{\isacharcolon}zero{\isacharunderscore}neq{\isacharunderscore}one{\isacharparenright}\ {\isasymlongleftrightarrow}\ x\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}eq{\isacharunderscore}{\isadigit{1}}{\isacharunderscore}iff{\isacharcolon}\ {\isachardoublequoteopen}indicator\ A\ x\ {\isacharequal}\ {\isacharparenleft}{\isadigit{1}}{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharcolon}{\isacharcolon}zero{\isacharunderscore}neq{\isacharunderscore}one{\isacharparenright}\ {\isasymlongleftrightarrow}\ x\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}indicator{\isacharcolon}\ {\isachardoublequoteopen}P\ {\isacharparenleft}indicator\ S\ x{\isacharparenright}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isacharparenleft}x\ {\isasymin}\ S\ {\isasymlongrightarrow}\ P\ {\isadigit{1}}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}x\ {\isasymnotin}\ S\ {\isasymlongrightarrow}\ P\ {\isadigit{0}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}indicator{\isacharunderscore}asm{\isacharcolon}\ {\isachardoublequoteopen}P\ {\isacharparenleft}indicator\ S\ x{\isacharparenright}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymnot}\ {\isacharparenleft}x\ {\isasymin}\ S\ {\isasymand}\ {\isasymnot}\ P\ {\isadigit{1}}\ {\isasymor}\ x\ {\isasymnotin}\ S\ {\isasymand}\ {\isasymnot}\ P\ {\isadigit{0}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}inter{\isacharunderscore}arith{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}\ x\ {\isacharequal}\ indicator\ A\ x\ {\isacharasterisk}\ {\isacharparenleft}indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}semiring{\isacharunderscore}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ min{\isacharunderscore}def\ max{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}union{\isacharunderscore}arith{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}\ x\ {\isacharequal}\ indicator\ A\ x\ {\isacharplus}\ indicator\ B\ x\ {\isacharminus}\ indicator\ A\ x\ {\isacharasterisk}\ {\isacharparenleft}indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}ring{\isacharunderscore}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ min{\isacharunderscore}def\ max{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}inter{\isacharunderscore}min{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}\ x\ {\isacharequal}\ min\ {\isacharparenleft}indicator\ A\ x{\isacharparenright}\ {\isacharparenleft}indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}semidom{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ indicator{\isacharunderscore}union{\isacharunderscore}max{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}\ x\ {\isacharequal}\ max\ {\isacharparenleft}indicator\ A\ x{\isacharparenright}\ {\isacharparenleft}indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}semidom{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ min{\isacharunderscore}def\ max{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}disj{\isacharunderscore}union{\isacharcolon}\ {\isachardoublequoteopen}A\ {\isasyminter}\ B\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ \ indicator\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}\ x\ {\isacharequal}\ {\isacharparenleft}indicator\ A\ x\ {\isacharplus}\ indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}semidom{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}compl{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}{\isacharminus}\ A{\isacharparenright}\ x\ {\isacharequal}\ {\isadigit{1}}\ {\isacharminus}\ {\isacharparenleft}indicator\ A\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}ring{\isacharunderscore}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ indicator{\isacharunderscore}diff{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isacharminus}\ B{\isacharparenright}\ x\ {\isacharequal}\ indicator\ A\ x\ {\isacharasterisk}\ {\isacharparenleft}{\isadigit{1}}\ {\isacharminus}\ indicator\ B\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}ring{\isacharunderscore}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ min{\isacharunderscore}def\ max{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}times{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isasymtimes}\ B{\isacharparenright}\ x\ {\isacharequal}\ indicator\ A\ {\isacharparenleft}fst\ x{\isacharparenright}\ {\isacharasterisk}\ {\isacharparenleft}indicator\ B\ {\isacharparenleft}snd\ x{\isacharparenright}{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}semiring{\isacharunderscore}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}sum{\isacharcolon}\ {\isachardoublequoteopen}indicator\ {\isacharparenleft}A\ {\isacharless}{\isacharplus}{\isachargreater}\ B{\isacharparenright}\ x\ {\isacharequal}\ {\isacharparenleft}case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ indicator\ A\ x\ {\isacharbar}\ Inr\ x\ {\isasymRightarrow}\ indicator\ B\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ x{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharcolon}{\isacharcolon}semiring{\isacharunderscore}{\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ setsum{\isacharunderscore}mult{\isacharunderscore}indicator{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymSum}x\ {\isasymin}\ A{\isachardot}\ f\ x\ {\isacharasterisk}\ indicator\ B\ x{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymSum}x\ {\isasymin}\ A\ {\isasyminter}\ B{\isachardot}\ f\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ setsum{\isacharunderscore}indicator{\isacharunderscore}mult{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymSum}x\ {\isasymin}\ A{\isachardot}\ indicator\ B\ x\ {\isacharasterisk}\ f\ x{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymSum}x\ {\isasymin}\ A\ {\isasyminter}\ B{\isachardot}\ f\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ setsum{\isachardot}mono{\isacharunderscore}neutral{\isacharunderscore}cong{\isacharunderscore}right\ split{\isacharcolon}\ split{\isacharunderscore}if{\isacharunderscore}asm{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ setsum{\isacharunderscore}indicator{\isacharunderscore}eq{\isacharunderscore}card{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}SUM\ x\ {\isacharcolon}\ A{\isachardot}\ indicator\ B\ x{\isacharparenright}\ {\isacharequal}\ card\ {\isacharparenleft}A\ Int\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ setsum{\isacharunderscore}mult{\isacharunderscore}indicator{\isacharbrackleft}OF\ assms{\isacharcomma}\ of\ {\isachardoublequoteopen}{\isacharpercent}x{\isachardot}\ {\isadigit{1}}{\isacharcolon}{\isacharcolon}nat{\isachardoublequoteclose}{\isacharbrackright}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ card{\isacharunderscore}eq{\isacharunderscore}setsum\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ setsum{\isacharunderscore}indicator{\isacharunderscore}scaleR{\isacharbrackleft}simp{\isacharbrackright}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}finite\ A\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\isasymSum}x\ {\isasymin}\ A{\isachardot}\ indicator\ {\isacharparenleft}B\ x{\isacharparenright}\ {\isacharparenleft}g\ x{\isacharparenright}\ {\isacharasterisk}\isactrlsub R\ f\ x{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymSum}x\ {\isasymin}\ {\isacharbraceleft}x{\isasymin}A{\isachardot}\ g\ x\ {\isasymin}\ B\ x{\isacharbraceright}{\isachardot}\ f\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharcolon}{\isacharcolon}real{\isacharunderscore}vector{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharbang}{\isacharcolon}\ setsum{\isachardot}mono{\isacharunderscore}neutral{\isacharunderscore}cong{\isacharunderscore}right\ split{\isacharcolon}\ split{\isacharunderscore}if{\isacharunderscore}asm\ simp{\isacharcolon}\ indicator{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}incseq{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}incseq\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}i{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isacharcolon}{\isacharcolon}\ {\isacharbraceleft}topological{\isacharunderscore}space{\isacharcomma}\ one{\isacharcomma}\ zero{\isacharbraceright}{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymUnion}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ x\ {\isasymin}\ A\ i{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isasymin}\ A\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ {\isacharparenleft}indicator\ {\isacharparenleft}A\ {\isacharparenleft}n\ {\isacharplus}\ i{\isacharparenright}{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharparenright}\ {\isacharequal}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}indicator\ {\isacharparenleft}{\isasymUnion}\ i{\isachardot}\ A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharparenright}\ {\isacharequal}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ incseqD{\isacharbrackleft}OF\ {\isacharbackquoteopen}incseq\ A{\isacharbackquoteclose}{\isacharcomma}\ of\ i\ {\isachardoublequoteopen}n\ {\isacharplus}\ i{\isachardoublequoteclose}\ \isakeyword{for}\ n{\isacharbrackright}\ {\isacharbackquoteopen}x\ {\isasymin}\ A\ i{\isacharbackquoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ LIMSEQ{\isacharunderscore}offset{\isacharbrackleft}of\ {\isacharunderscore}\ i{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}simp\ add{\isacharcolon}\ tendsto{\isacharunderscore}const{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def\ tendsto{\isacharunderscore}const{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}UN{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}k{\isachardot}\ indicator\ {\isacharparenleft}{\isasymUnion}\ i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isacharcolon}{\isacharcolon}\ {\isacharbraceleft}topological{\isacharunderscore}space{\isacharcomma}\ one{\isacharcomma}\ zero{\isacharbraceright}{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymUnion}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}k{\isachardot}\ indicator\ {\isacharparenleft}{\isasymUnion}\ i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymUnion}k{\isachardot}\ {\isasymUnion}\ i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}incseq{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ incseq{\isacharunderscore}def\ intro{\isacharcolon}\ less{\isacharunderscore}le{\isacharunderscore}trans{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymUnion}k{\isachardot}\ {\isasymUnion}\ i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymUnion}i{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}decseq{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}decseq\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}i{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isacharcolon}{\isacharcolon}\ {\isacharbraceleft}topological{\isacharunderscore}space{\isacharcomma}\ one{\isacharcomma}\ zero{\isacharbraceright}{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymInter}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ x\ {\isasymnotin}\ A\ i{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ A\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}\ {\isacharparenleft}indicator\ {\isacharparenleft}A\ {\isacharparenleft}n\ {\isacharplus}\ i{\isacharparenright}{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharparenright}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}indicator\ {\isacharparenleft}{\isasymInter}i{\isachardot}\ A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharparenright}\ {\isacharequal}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ decseqD{\isacharbrackleft}OF\ {\isacharbackquoteopen}decseq\ A{\isacharbackquoteclose}{\isacharcomma}\ of\ i\ {\isachardoublequoteopen}n\ {\isacharplus}\ i{\isachardoublequoteclose}\ \isakeyword{for}\ n{\isacharbrackright}\ {\isacharbackquoteopen}x\ {\isasymnotin}\ A\ i{\isacharbackquoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ LIMSEQ{\isacharunderscore}offset{\isacharbrackleft}of\ {\isacharunderscore}\ i{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}simp\ add{\isacharcolon}\ tendsto{\isacharunderscore}const{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp{\isacharcolon}\ indicator{\isacharunderscore}def\ tendsto{\isacharunderscore}const{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}INT{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}k{\isachardot}\ indicator\ {\isacharparenleft}{\isasymInter}i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isacharcolon}{\isacharcolon}\ {\isacharbraceleft}topological{\isacharunderscore}space{\isacharcomma}\ one{\isacharcomma}\ zero{\isacharbraceright}{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymInter}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}k{\isachardot}\ indicator\ {\isacharparenleft}{\isasymInter}i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isacharparenright}\ {\isacharminus}{\isacharminus}{\isacharminus}{\isacharminus}{\isachargreater}\ indicator\ {\isacharparenleft}{\isasymInter}k{\isachardot}\ {\isasymInter}i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ LIMSEQ{\isacharunderscore}indicator{\isacharunderscore}decseq{\isacharparenright}\ {\isacharparenleft}auto\ simp{\isacharcolon}\ decseq{\isacharunderscore}def\ intro{\isacharcolon}\ less{\isacharunderscore}le{\isacharunderscore}trans{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymInter}k{\isachardot}\ {\isasymInter}\ i{\isacharless}k{\isachardot}\ A\ i{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymInter}i{\isachardot}\ A\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}add{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}A\ {\isasyminter}\ B\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}\ {\isasymLongrightarrow}\ {\isacharparenleft}indicator\ A\ x{\isacharcolon}{\isacharcolon}{\isacharunderscore}{\isacharcolon}{\isacharcolon}monoid{\isacharunderscore}add{\isacharparenright}\ {\isacharplus}\ indicator\ B\ x\ {\isacharequal}\ indicator\ {\isacharparenleft}A\ {\isasymunion}\ B{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ indicator{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ of{\isacharunderscore}real{\isacharunderscore}indicator{\isacharcolon}\ {\isachardoublequoteopen}of{\isacharunderscore}real\ {\isacharparenleft}indicator\ A\ x{\isacharparenright}\ {\isacharequal}\ indicator\ A\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ real{\isacharunderscore}of{\isacharunderscore}nat{\isacharunderscore}indicator{\isacharcolon}\ {\isachardoublequoteopen}real\ {\isacharparenleft}indicator\ A\ x\ {\isacharcolon}{\isacharcolon}\ nat{\isacharparenright}\ {\isacharequal}\ indicator\ A\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ abs{\isacharunderscore}indicator{\isacharcolon}\ {\isachardoublequoteopen}{\isasymbar}indicator\ A\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharcolon}{\isacharcolon}linordered{\isacharunderscore}idom{\isasymbar}\ {\isacharequal}\ indicator\ A\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mult{\isacharunderscore}indicator{\isacharunderscore}subset{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ B\ {\isasymLongrightarrow}\ indicator\ A\ x\ {\isacharasterisk}\ indicator\ B\ x\ {\isacharequal}\ {\isacharparenleft}indicator\ A\ x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isacharcolon}{\isacharcolon}{\isacharbraceleft}comm{\isacharunderscore}semiring{\isacharunderscore}{\isadigit{1}}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ split{\isacharcolon}\ split{\isacharunderscore}indicator\ simp{\isacharcolon}\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ indicator{\isacharunderscore}sums{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}i\ j{\isachardot}\ i\ {\isasymnoteq}\ j\ {\isasymLongrightarrow}\ A\ i\ {\isasyminter}\ A\ j\ {\isacharequal}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}i{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x{\isacharcolon}{\isacharcolon}real{\isacharparenright}\ sums\ indicator\ {\isacharparenleft}{\isasymUnion}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ x\ {\isasymin}\ A\ i{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymin}\ A\ i{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}i{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x{\isacharcolon}{\isacharcolon}real{\isacharparenright}\ sums\ {\isacharparenleft}{\isasymSum}i{\isasymin}{\isacharbraceleft}i{\isacharbraceright}{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}intro\ sums{\isacharunderscore}finite{\isacharparenright}\ {\isacharparenleft}auto\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymSum}i{\isasymin}{\isacharbraceleft}i{\isacharbraceright}{\isachardot}\ indicator\ {\isacharparenleft}A\ i{\isacharparenright}\ x{\isacharparenright}\ {\isacharequal}\ indicator\ {\isacharparenleft}{\isasymUnion}i{\isachardot}\ A\ i{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ split{\isacharcolon}\ split{\isacharunderscore}indicator{\isacharparenright}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\end{isabellebody}%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "root"
%%% End:
